{% extends 'admin/layout.back.office.html.twig' %}

{% block title %}Liste des catégories !
{% endblock %}

{% block body %}
{% block cards %}{% endblock %}


	<section class="container-fluid scrollarea table-boot py-5">
		<h1 class="container">Liste des catégories     <span class="fs-4"><a href="{{ path('admin_category_tree_structure') }}">(Voir les catégories par Arborescence)</a></span></h1>
		
		<div class="container">
			<table class="table  table-hover">
				<thead class="table-primary">
					<tr>
						<th scope="col">Id</th>
						<th scope="col">Nom</th>
						<th scope="col">Slogan</th>
						<th scope="col">Image</th>
						<th scope="col"><div>sa catégorie</div> <div>juste au-dessus</div></th>
						<th scope="col"><div>sa ou ses sous-</div> <div>catégorie(s) directes</div></th>
						<th scope="col">Actions</th>
					</tr>
				</thead>
							<tbody>
					{% set i=0 %}
					{% for category in categories %}
						<tr>
							<th scope="row">{{ category.id }}</th>
							{% if category.getCategory == false %}
							<td class="fw-bold fs-5">{{ category.name }}<div class="fs-6 fw-normal fst-italic">(catégorie principale)</div></td>
							{% set i = i +1%}
							{% else %}
							<td>{{ category.name }}</td>
							{% endif %}
							<td>{{ category.subtitle }}</td>
							<td>{{ category.picture }}</td>

							{% if category.getCategory %}
							<td class="">{{ category.getCategory.name}}</td>
							{% else %}
							<td></td>
							{% endif %}

							{% if category.getSubcategories %}
							<td>
							<ul>
							{% for subcategories in category.getSubcategories %}
							<li>
							{{ subcategories.name }}
							</li>
							{% endfor %}
							</ul>
							</td>
							{% else %}
							<td></td>
							{% endif %}

						    <td>
                                <a href="#">éditer</a>
                            </td>
						</tr>
					{% else %}
						<tr>
							<td colspan="7">Aucunes données trouvées</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</section>


</div></main>{% endblock %}
